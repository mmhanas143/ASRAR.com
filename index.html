<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASRAR CLOTHES - Animated & Full-Featured</title>
    
    <!-- Load Tailwind CSS & Lucide Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Custom CSS for Animations and Styles -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f2f5; scroll-behavior: smooth; }

        /* Animation Keyframes */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        @keyframes slideUpFadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Page Transition */
        .page-content { display: none; }
        .page-active { display: block; animation: fadeIn 0.5s ease-out; }
        
        /* Modal Animation */
        .modal-content { animation: scaleIn 0.3s ease-out; }

        /* Product Card Staggered Animation */
        .product-card {
            opacity: 0; /* Initially hidden */
            animation: slideUpFadeIn 0.6s ease-out forwards;
        }

        /* Other Styles */
        .chat-container { max-height: 60vh; overflow-y: auto; }
        .product-card-hover:hover { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); transform: translateY(-5px); }
        .admin-delete-btn { position: absolute; top: 1rem; right: 1rem; background-color: rgba(220, 38, 38, 0.8); color: white; border-radius: 9999px; padding: 0.5rem; transition: all 0.2s; z-index: 10; }
        .admin-delete-btn:hover { background-color: rgba(185, 28, 28, 1); transform: scale(1.1); }
    </style>
</head>
<body>

    <header class="sticky top-0 z-50 bg-white shadow-xl">
        <div class="max-w-7xl mx-auto flex justify-between items-center p-4 relative"> 
            <div id="logo-button" class="text-3xl font-extrabold text-indigo-800 cursor-pointer tracking-wider">ASRAR CLOTHES</div>
            <button id="menu-button" class="p-3 text-indigo-700 rounded-full hover:bg-gray-100 transition duration-300"><i data-lucide="more-vertical" class="w-7 h-7"></i></button>
            <div id="dropdown-menu" class="absolute hidden right-4 top-full mt-2 w-52 max-w-full bg-white rounded-xl shadow-3xl py-2 z-20 border origin-top-right transition-all duration-300"></div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <!-- Page containers. JS will fill them. -->
        <div id="home-page" class="page-content"></div>
        <div id="product-detail-page" class="page-content"></div>
        <div id="seller-info-page" class="page-content"></div>
        <div id="ask-gemini-page" class="page-content"></div>
        <div id="about-page" class="page-content"></div>
    </main>
    
    <!-- MODALS -->
    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-[100] p-4">
         <div class="modal-content bg-white p-8 rounded-3xl shadow-3xl max-w-sm w-full relative">
            <button onclick="closeModal('admin-login-modal')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800"><i data-lucide="x"></i></button>
            <h2 class="text-3xl font-bold text-indigo-700 mb-6 border-b pb-2" data-i18n="admin_login"></h2>
            <input type="email" id="admin-username" placeholder="Username (mmhanas14@gmail.com)" class="w-full p-4 mb-4 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-400" />
            <input type="password" id="admin-password" placeholder="Password (ANas@2011)" class="w-full p-4 mb-6 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-400" />
            <button onclick="handleAdminLogin()" class="w-full py-3 font-semibold rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition shadow-lg" data-i18n="login"></button>
        </div>
    </div>
    
    <!-- Add Product Modal -->
    <div id="add-product-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100] p-4">
        <div class="modal-content bg-white p-6 md:p-8 rounded-3xl shadow-3xl max-w-lg w-full relative max-h-[90vh] overflow-y-auto">
            <button onclick="closeModal('add-product-modal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-2xl md:text-3xl font-bold text-indigo-700 mb-6 border-b pb-2" data-i18n="add_new_product"></h2>
            <form id="add-product-form" onsubmit="event.preventDefault(); handleAddProduct();" class="space-y-4">
                <!-- Form fields as before -->
                 <button type="submit" class="w-full py-3 font-semibold rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition shadow-lg mt-6" data-i18n="add_product"></button>
            </form>
        </div>
    </div>
    
    <!-- Language Modal -->
    <div id="lang-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-[100] p-4">
        <div class="modal-content bg-white p-8 rounded-3xl shadow-3xl max-w-sm w-full relative">
            <!-- Language modal content -->
        </div>
    </div>

    <!-- Order Modal -->
    <div id="order-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-[100] p-4">
        <div class="modal-content bg-white p-8 rounded-3xl shadow-3xl max-w-lg w-full relative">
            <!-- Order modal content -->
        </div>
    </div>

    <script>
    // --- TRANSLATION DATA (Complete) ---
    const translations = {
        en: { 
            home: "Home", seller_info: "Seller Info", ask_gemini: "Ask Gemini", about: "About", change_language: "Change Language",
            hero_title: "Welcome to ASRAR CLOTHES", hero_subtitle: "Discover modern apparel designed for confidence.", hero_button: "Explore Collection",
            admin_login: "Admin Login", login: "Login", logout: "Logout",
            search_placeholder: "Search by name or description...", our_collection: "Our Collection", other_products: "More From ASRAR", wrong_credentials: "Wrong credentials!",
            add_new_product: "Add New Product", product_name: "Product Name", product_price: "Price (TK)", product_description: "Description",
            product_images: "Product Images", images_helper_text: "Direct image URLs. Min 3, Max 12.",
            add_another_image: "Add Another Image", remove: "Remove", add_product: "Add Product",
            delete_product: "Delete Product", confirm_delete: "Are you sure you want to delete this product?",
            min_3_images_error: "Please provide at least 3 image URLs.",
            login_success: "Login Successful! Admin controls are active.", logout_success: "You have been logged out.",
            view_details: "View Details", order_now: "Order Now", buy_now: "Buy Now",
            seller_info_title: "Seller Information", about_seller_text_full: "We provide the best quality clothes, prioritizing elegance, comfort, and modern design.",
            contact_info: "Contact Information", seller_contact: "Seller Contact", phone: "Phone",
            ask_gemini_title: "Ask Gemini, Your Style Consultant", ask_gemini_desc: "Ask me anything about fashion or products!",
            gemini_welcome: "Hello! I'm Gemini, your fashion assistant. How can I help you today?", gemini_loading: "Gemini is typing...",
            about_page_title: "About ASRAR & System Info", system_info: "System Information", version: "Version",
            place_order_title: "Place Your Order", ordering_product_text: "You are ordering:", name: "Name", address: "Delivery Address", phone_number: "Phone Number",
            send_order_whatsapp: "Send Order via WhatsApp",
        },
        bn: { 
            home: "হোম", seller_info: "বিক্রেতার তথ্য", ask_gemini: "Gemini কে জিজ্ঞাসা করুন", about: "সম্পর্কে", change_language: "ভাষা পরিবর্তন করুন",
            hero_title: "ASRAR CLOTHES-এ স্বাগতম", hero_subtitle: "আত্মবিশ্বাসের জন্য ডিজাইন করা আধুনিক পোশাকের সেরা সংগ্রহ আবিষ্কার করুন।", hero_button: "সংগ্রহ দেখুন",
            admin_login: "অ্যাডমিন লগইন", login: "লগইন", logout: "লগআউট",
            search_placeholder: "নাম বা বর্ণনা দিয়ে অনুসন্ধান করুন...", our_collection: "আমাদের সংগ্রহ", other_products: "ASRAR থেকে আরও", wrong_credentials: "ভুল তথ্য!",
            add_new_product: "নতুন পণ্য যোগ করুন", product_name: "পণ্যের নাম", product_price: "মূল্য (টাকা)", product_description: "পণ্যের বিবরণ",
            product_images: "পণ্যের ছবি", images_helper_text: "সরাসরি ছবির URL দিন। সর্বনিম্ন ৩টি, সর্বোচ্চ ১২টি।",
            add_another_image: "আরেকটি ছবি যোগ করুন", remove: "মুছুন", add_product: "পণ্য যোগ করুন",
            delete_product: "পণ্য মুছুন", confirm_delete: "আপনি কি নিশ্চিতভাবে এই পণ্যটি মুছতে চান?",
            min_3_images_error: "অনুগ্রহ করে কমপক্ষে ৩টি ছবির URL দিন।",
            login_success: "লগইন সফল হয়েছে! অ্যাডমিন কন্ট্রোল এখন সক্রিয়।", logout_success: "আপনাকে লগআউট করা হয়েছে।",
            view_details: "বিস্তারিত দেখুন", order_now: "এখনই অর্ডার করুন", buy_now: "এখনই কিনুন",
            seller_info_title: "বিক্রেতার তথ্য", about_seller_text_full: "আমরা আপনার জন্য সেরা মানের পোশাক সরবরাহ করি, যেখানে কমনীয়তা, আরাম এবং আধুনিক ডিজাইনকে অগ্রাধিকার দেওয়া হয়।",
            contact_info: "যোগাযোগের তথ্য", seller_contact: "বিক্রেতার যোগাযোগ", phone: "ফোন",
            ask_gemini_title: "Gemini, আপনার স্টাইল কনসালট্যান্ট", ask_gemini_desc: "ফ্যাশন বা পণ্য সম্পর্কে আমাকে জিজ্ঞাসা করুন!",
            gemini_welcome: "হ্যালো! আমি জেমিনি, আপনার ফ্যাশন সহকারী। আজ আপনাকে কীভাবে সাহায্য করতে পারি?", gemini_loading: "জেমিনি লিখছে...",
            about_page_title: "ASRAR ও সিস্টেম তথ্য", system_info: "সিস্টেম তথ্য", version: "ভার্সন",
            place_order_title: "আপনার অর্ডার দিন", ordering_product_text: "আপনি অর্ডার করছেন:", name: "নাম", address: "ডেলিভারি ঠিকানা", phone_number: "ফোন নম্বর",
            send_order_whatsapp: "হোয়াটসঅ্যাপে অর্ডার পাঠান",
        }
    };

    // --- DEFAULT PRODUCT DATA ---
    const initialProducts = [
        { id: 'prod1', name: 'Classic Denim Jacket', price: 3500, description: 'A timeless denim jacket perfect for any season. Made with high-quality, durable denim.', images: ['https://images.unsplash.com/photo-1543087902-61618aa2b89a?q=80&w=1200', 'https://images.unsplash.com/photo-1588887463518-e377db7492c3?q=80&w=1200', 'https://images.unsplash.com/photo-1579758776652-302a99144405?q=80&w=1200'] },
        { id: 'prod2', name: 'Premium Cotton T-Shirt', price: 1200, description: 'Experience ultimate comfort with our premium cotton T-shirt. Soft, breathable, and designed for a perfect fit.', images: ['https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?q=80&w=1200', 'https://images.unsplash.com/photo-1622470942513-242385b39943?q=80&w=1200', 'https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?q=80&w=1200'] },
        { id: 'prod3', name: 'Elegant Black Hoodie', price: 2800, description: 'Stay warm and stylish with our elegant black hoodie, crafted from a soft fleece blend.', images: ['https://images.unsplash.com/photo-1556821855-0a3OAa3195de?q=80&w=1200', 'https://images.unsplash.com/photo-1610475176212-5d755b707cb5?q=80&w=1200'] },
        { id: 'prod4', name: 'Stylish White Sneaker', price: 4500, description: 'Comfortable and versatile white sneakers, perfect for casual and semi-formal wear.', images: ['https://images.unsplash.com/photo-1600269460515-d910a90400b1?q=80&w=1200', 'https://images.unsplash.com/photo-1595950653106-6c9ebd621aa0?q=80&w=1200'] }
    ];

    // --- STATE MANAGEMENT ---
    let currentLanguage = localStorage.getItem('language') || 'en';
    let products = [];
    let isAdminLoggedIn = sessionStorage.getItem('isAdminLoggedIn') === 'true';

    // --- CORE FUNCTIONS ---
    function T(key) { return translations[currentLanguage][key] || key; }

    function applyTranslations() {
        document.querySelectorAll('[data-i18n]').forEach(el => el.textContent = T(el.getAttribute('data-i18n')));
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => el.placeholder = T(el.getAttribute('data-i18n-placeholder')));
        createMenuItems();
    }

    function renderPage(pageId, data = null) {
        document.querySelectorAll('.page-content').forEach(p => p.classList.remove('page-active'));
        const page = document.getElementById(pageId + '-page');
        
        if (page) {
            // Render content BEFORE making it visible
            switch(pageId) {
                case 'home': renderHomePage(); break;
                case 'product-detail': if (data) renderProductDetailPage(data); break;
                case 'seller-info': renderSellerInfoPage(); break;
                case 'ask-gemini': renderAskGeminiPage(); break;
                case 'about': renderAboutPage(); break;
            }
            // Animation trigger
            void page.offsetWidth; // Force reflow
            page.classList.add('page-active');
        }
        
        document.getElementById('dropdown-menu').classList.add('hidden');
        lucide.createIcons();
    }
    
    // ... (All other JS functions will go here)

    document.addEventListener('DOMContentLoaded', () => {
        loadProducts();
        setupEventListeners();
        resetImageFields(); 
        renderPage('home');
        applyTranslations();
    });
    </script>
</body>
                                                     </html>
